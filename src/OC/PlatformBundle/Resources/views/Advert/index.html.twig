{# src/OC/PlatformBundle/Resources/views/Advert/index.html.twig #}

{% extends "OCPlatformBundle::layout.html.twig" %}

{% block title %}
  Accueil - {{ parent() }}
{% endblock %}

{% block ocplatform_body %}

<h5>Liste des annonces</h5>
{% if is_granted('ROLE_AUTEUR') %}
  <li style="list-style: none; color:#fff;" class="btn btn-primary"><a style="color:#fff;" href="{{ path('oc_platform_add') }}">Ajouter une annonce</a></li>
{% endif %}

<!-- Main Content -->
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    				{% for advert in listAdverts %}
    				<div class="post-preview">
                    <a href="post.html">
                        <a href="{{ path('oc_platform_view', {'id': advert.id}) }}">
                        	<h2 class="post-title">
                            	{{ advert.title }}
                        	</h2>
                        </a>	
                        <h3 class="post-subtitle">
                            subtitle
                        </h3>
                    </a>
                    <p class="post-meta">par <a href="#">{{ advert.author }}</a> le {{ advert.date|date('d/m/Y') }}</p>
                	</div>
				    <hr>
				    {% endfor %}

                
                <!-- Pager -->
                 <ul class="pagination">
				  {# On utilise la fonction range(a, b) qui cr√©e un tableau de valeurs entre a et b #}
				  {% for p in range(1, nbPages) %}
				    <li{% if p == page %} class="active"{% endif %}>
				      <a href="{{ path('oc_platform_home', {'page': p}) }}">{{ p }}</a>
				    </li>
				  {% endfor %}
				</ul>
            </div>
        </div>


{% endblock %}